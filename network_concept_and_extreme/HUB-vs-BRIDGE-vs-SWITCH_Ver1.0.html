<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>網路設備演進史：Hub, Bridge & Switch | Hauman Technologies</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .mermaid { 
            display: flex; 
            justify-content: center; 
            margin: 1rem 0; 
            background: white; 
            padding: 10px; 
            border-radius: 8px;
            min-height: 100px; /* 預留高度避免跳動 */
        }
        .tab-active { border-bottom: 3px solid #2563eb; color: #1e3a8a; font-weight: bold; }
        .tab-inactive { color: #6b7280; hover:text-blue-500; }
        .hidden-content { display: none; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-900 to-slate-800 text-white p-6 shadow-md">
        <div class="max-w-5xl mx-auto">
            <h1 class="text-3xl font-bold mb-2"><i class="fa-solid fa-network-wired mr-3"></i>網路設備演進史</h1>
            <p class="text-blue-200 text-lg">HUB (集線器) vs. BRIDGE (橋接器) vs. SWITCH (交換器)</p>
            <p class="text-sm text-gray-400 mt-2">ExtremeXOS 架構師觀點 | 深入淺出的互動教學</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-5xl mx-auto w-full p-4 sm:p-6">
        
        <!-- Introduction Card -->
        <div class="bg-white rounded-xl shadow-sm p-6 mb-8 border-l-4 border-blue-600">
            <h2 class="text-xl font-bold text-gray-800 mb-2">👋 課程介紹</h2>
            <p class="text-gray-600">
                歡迎來到今天的網路基礎課程。很多人常常搞混這三種設備，雖然外觀長得很像（都有很多孔），但在 OSI 模型中的地位與運作邏輯卻天差地遠。
                請點擊下方的分頁標籤，我們一層一層來解開它們的秘密。
            </p>
        </div>

        <!-- Navigation Tabs -->
        <div class="flex border-b border-gray-300 mb-6 overflow-x-auto">
            <button onclick="switchTab('hub')" id="btn-hub" class="tab-active flex-1 py-4 px-6 text-center focus:outline-none transition duration-300">
                <i class="fa-solid fa-bullhorn mr-2"></i>HUB (集線器)
            </button>
            <button onclick="switchTab('bridge')" id="btn-bridge" class="tab-inactive flex-1 py-4 px-6 text-center focus:outline-none transition duration-300">
                <i class="fa-solid fa-bridge mr-2"></i>BRIDGE (橋接器)
            </button>
            <button onclick="switchTab('switch')" id="btn-switch" class="tab-inactive flex-1 py-4 px-6 text-center focus:outline-none transition duration-300">
                <i class="fa-solid fa-server mr-2"></i>SWITCH (交換器)
            </button>
            <button onclick="switchTab('comparison')" id="btn-comparison" class="tab-inactive flex-1 py-4 px-6 text-center focus:outline-none transition duration-300">
                <i class="fa-solid fa-table-list mr-2"></i>總結比較表
            </button>
        </div>

        <!-- CONTENT: HUB -->
        <section id="content-hub" class="fade-in">
            <div class="space-y-6">
                <!-- Concept -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">一、核心概念 (Concept)</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <span class="font-bold text-blue-700">一句話定義：</span>
                            <p class="mt-1 text-gray-700">運作於 OSI Layer 1 (實體層) 的訊號放大器，不僅笨，而且很吵。</p>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg">
                            <span class="font-bold text-orange-700"><i class="fa-solid fa-lightbulb mr-1"></i>生活化比喻：</span>
                            <p class="mt-1 text-gray-700">Hub 就像是在辦公室裡用「大聲公」喊話。A 想跟 B 說話，但必須喊出來，結果 C、D、E 全都聽到了（毫無隱私），而且如果兩個人同時喊話，聲音會打架（Collision），誰也聽不清楚。</p>
                        </div>
                    </div>
                </div>

                <!-- Mechanism -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">二、運作原理 (Mechanism)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li><strong>廣播式傳輸 (Flooding)：</strong> 當從 Port 1 收到訊號，Hub 會直接複製並發送到 Port 2, 3, 4... 所有其他連接埠，不管目標是誰。</li>
                        <li><strong>共享頻寬 (Shared Bandwidth)：</strong> 如果是 100Mbps 的 Hub，所有使用者「共享」這 100Mbps。</li>
                        <li><strong>半雙工 (Half-Duplex)：</strong> 同一時間只能「聽」或「說」，不能同時進行，需依賴 CSMA/CD 機制來偵測碰撞。</li>
                    </ul>
                </div>

                <!-- Visuals -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">三、架構視覺化 (Visuals)</h3>
                    <p class="text-sm text-gray-500 mb-2">圖解：電腦 A 發送資料給 B，但紅色的虛線顯示資料也被強迫送給了 C 和 D。</p>
                    <div class="mermaid">
                        graph TD
                            Hub["HUB 集線器"]
                            PC_A["電腦 A <br/>(發送者)"] -->|"資料封包"| Hub
                            Hub -.->|"廣播 Copy"| PC_B["電腦 B <br/>(目標)"]
                            Hub -.->|"廣播 Copy"| PC_C["電腦 C <br/>(被強迫接收)"]
                            Hub -.->|"廣播 Copy"| PC_D["電腦 D <br/>(被強迫接收)"]
                            
                            style Hub fill:#f87171,stroke:#333,stroke-width:2px,color:white
                            style PC_A fill:#dbeafe,stroke:#333
                            style PC_B fill:#dcfce7,stroke:#333
                            style PC_C fill:#fee2e2,stroke:#ef4444,stroke-dasharray: 5 5
                            style PC_D fill:#fee2e2,stroke:#ef4444,stroke-dasharray: 5 5
                    </div>
                </div>

                <!-- Use Case -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">四、實務應用場景 (Use Case)</h3>
                    <p class="text-gray-700 mb-3"><strong>現況：</strong> 在現代企業網路中，Hub 幾乎已經<strong>絕跡</strong>。</p>
                    <div class="bg-gray-100 p-4 rounded border-l-4 border-gray-500">
                        <p class="font-bold">僅存用途：網路除錯 (Packet Sniffing)</p>
                        <p class="text-sm text-gray-600 mt-1">有些老派工程師會刻意保留一個 Hub。當需要用 Wireshark 抓取某台電腦的封包時，將 Hub 串接在中間，因為 Hub 會無腦廣播所有封包，工程師的電腦接在 Hub 上就能輕易「竊聽」到所有流量進行分析。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTENT: BRIDGE -->
        <section id="content-bridge" class="hidden-content fade-in">
            <div class="space-y-6">
                <!-- Concept -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">一、核心概念 (Concept)</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <span class="font-bold text-blue-700">一句話定義：</span>
                            <p class="mt-1 text-gray-700">運作於 OSI Layer 2 (資料連結層) 的軟體式交通警察，通常只有兩個孔。</p>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg">
                            <span class="font-bold text-orange-700"><i class="fa-solid fa-lightbulb mr-1"></i>生活化比喻：</span>
                            <p class="mt-1 text-gray-700">Bridge 就像連接兩個島嶼的「檢查哨」。警察手裡拿著名單 (MAC Table)，只允許名單上的人通過。如果 A 和 B 都在左邊島嶼，他們講話就不會傳到右邊島嶼，減少了不必要的干擾。</p>
                        </div>
                    </div>
                </div>

                <!-- Mechanism -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">二、運作原理 (Mechanism)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li><strong>MAC 地址學習：</strong> Bridge 會學習來源 MAC 地址，紀錄該 MAC 在左邊端口還是右邊端口。</li>
                        <li><strong>軟體交換 (Software Switching)：</strong> 早期 Bridge 依靠 CPU 運算來決定封包去留，速度較慢。</li>
                        <li><strong>分割碰撞網域 (Collision Domain)：</strong> Bridge 的每一個 Port 都是一個獨立的碰撞網域，這比 Hub 進步巨大。</li>
                    </ul>
                </div>

                <!-- Visuals -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">三、架構視覺化 (Visuals)</h3>
                    <p class="text-sm text-gray-500 mb-2">圖解：Bridge 將網路切分為兩個網段。Segment 1 內部的通訊不會干擾到 Segment 2。</p>
                    <div class="mermaid">
                        graph LR
                            subgraph Segment_1 ["網段 1"]
                                PC1(("PC 1")) --- Hub1["Hub"]
                                PC2(("PC 2")) --- Hub1
                            end
                            
                            subgraph Segment_2 ["網段 2"]
                                Hub2["Hub"] --- PC3(("PC 3"))
                                Hub2 --- PC4(("PC 4"))
                            end

                            Hub1 <==> Bridge["BRIDGE <br/> 檢查哨"] <==> Hub2

                            style Bridge fill:#f59e0b,stroke:#333,stroke-width:2px,color:white
                            style Segment_1 fill:#f3f4f6,stroke:#cbd5e1
                            style Segment_2 fill:#f3f4f6,stroke:#cbd5e1
                    </div>
                </div>

                <!-- Use Case -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">四、實務應用場景 (Use Case)</h3>
                    <div class="bg-green-50 p-4 rounded border-l-4 border-green-500">
                        <p class="font-bold">案例：無線橋接 (Wireless Bridge)</p>
                        <p class="text-sm text-gray-600 mt-1">雖然有線 Bridge 已被 Switch 取代，但「無線橋接」概念仍常存。例如：兩棟大樓之間無法拉線，我們會在頂樓各裝設一台無線 AP 設定為 Bridge Mode，將兩棟樓的區網 Layer 2 打通，這就是現代 Bridge 的應用。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTENT: SWITCH -->
        <section id="content-switch" class="hidden-content fade-in">
            <div class="space-y-6">
                <!-- Concept -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">一、核心概念 (Concept)</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <span class="font-bold text-blue-700">一句話定義：</span>
                            <p class="mt-1 text-gray-700">多埠口的硬體式 Bridge，Layer 2 的智慧物流中心，現代網路的核心。</p>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg">
                            <span class="font-bold text-orange-700"><i class="fa-solid fa-lightbulb mr-1"></i>生活化比喻：</span>
                            <p class="mt-1 text-gray-700">Switch 就像「自動化物流分類中心」。信件（封包）進來後，機器掃描地址（MAC Address），直接透過專屬輸送帶（ASIC 晶片）送到指定的出口。A 寄給 B 的信，C 絕對看不到，而且成千上萬封信可以同時處理。</p>
                        </div>
                    </div>
                </div>

                <!-- Mechanism -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">二、運作原理 (Mechanism)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li><strong>ASIC 硬體加速：</strong> 與 Bridge 不同，Switch 使用專用晶片 (ASIC) 處理轉發，達到 Wire-speed (線速) 效能。</li>
                        <li><strong>獨享頻寬 (Dedicated Bandwidth)：</strong> 每個 Port 都有獨立頻寬（例如 1Gbps），不會因為連接設備變多而變慢。</li>
                        <li><strong>全雙工 (Full-Duplex)：</strong> 可以同時傳送與接收資料，不需 CSMA/CD。</li>
                        <li><strong>VLAN 支援：</strong> 可以邏輯上將一個實體 Switch 切割成多個虛擬交換機 (如 ExtremeXOS 中的 <code>create vlan</code>)。</li>
                        <li class="bg-yellow-50 p-1 rounded"><strong>儲存轉發 (Store and Forward)：</strong> Switch 會先將完整的封包接收下來儲存在緩衝區，檢查 <strong>FCS (Frame Check Sequence)</strong> 確認資料沒有損壞後，才進行轉發。這確保了錯誤的封包不會在網路中流竄 (與 Hub 的無腦轉發成對比)。</li>
                    </ul>

                    <!-- MAC Table Example -->
                    <div class="mt-6 bg-slate-50 p-4 rounded-lg border border-slate-200">
                        <h4 class="font-bold text-lg text-slate-700 mb-2"><i class="fa-solid fa-list-ol mr-2"></i>MAC Address Table 運作範例</h4>
                        <p class="text-sm text-gray-600 mb-3">當 Switch 運作時，會動態學習並維護一張表格，紀錄哪個 MAC Address 在哪個 Port。以下是 ExtremeXOS 中的典型 MAC Table 示意：</p>
                        
                        <table class="w-full text-sm text-left bg-white border rounded overflow-hidden shadow-sm">
                            <thead class="bg-blue-100 text-blue-900">
                                <tr>
                                    <th class="px-4 py-2">MAC Address (硬體位址)</th>
                                    <th class="px-4 py-2">Port (連接埠)</th>
                                    <th class="px-4 py-2">VLAN</th>
                                    <th class="px-4 py-2">Type (類型)</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100 text-gray-700">
                                <tr>
                                    <td class="px-4 py-2 font-mono text-xs">00:04:96:AA:BB:01</td>
                                    <td class="px-4 py-2">1</td>
                                    <td class="px-4 py-2">Default</td>
                                    <td class="px-4 py-2 text-green-600"><span class="bg-green-100 px-2 py-1 rounded-full text-xs">Dynamic</span></td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-2 font-mono text-xs">00:04:96:CC:DD:02</td>
                                    <td class="px-4 py-2">2</td>
                                    <td class="px-4 py-2">Finance</td>
                                    <td class="px-4 py-2 text-green-600"><span class="bg-green-100 px-2 py-1 rounded-full text-xs">Dynamic</span></td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-2 font-mono text-xs">00:04:96:EE:FF:99</td>
                                    <td class="px-4 py-2">Uplink</td>
                                    <td class="px-4 py-2">Trunk</td>
                                    <td class="px-4 py-2 text-blue-600"><span class="bg-blue-100 px-2 py-1 rounded-full text-xs">Static</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="mt-2 text-xs text-gray-500 flex items-start">
                            <i class="fa-solid fa-info-circle mr-1 mt-0.5"></i>
                            <p><strong>運作邏輯：</strong> 當封包進入 Switch，晶片會查這張表。如果目標 MAC 在表中有紀錄，就直接往該 Port 送 (Unicast)；如果沒紀錄 (Unknown Unicast)，就會對該 VLAN 內所有 Port 廣播。</p>
                        </div>
                    </div>
                </div>

                <!-- Visuals -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">三、架構視覺化 (Visuals)</h3>
                    <p class="text-sm text-gray-500 mb-2">圖解：Switch 查閱 MAC 表後，建立 A 到 B 的專屬通道 (綠色)，C 和 D 完全不受影響。</p>
                    <div class="mermaid">
                        graph TD
                            Switch["SWITCH 交換器 <br/> ASIC 晶片處理"]
                            
                            PC_A["電腦 A"] ==>|"Unicast 單播"| Switch
                            Switch ==>|"精準轉送"| PC_B["電腦 B"]
                            
                            Switch -.->|"X 阻擋"| PC_C["電腦 C"]
                            Switch -.->|"X 阻擋"| PC_D["電腦 D"]
                            
                            style Switch fill:#3b82f6,stroke:#333,stroke-width:2px,color:white
                            style PC_A fill:#dbeafe,stroke:#333
                            style PC_B fill:#dcfce7,stroke:#333
                            style PC_C fill:#e5e7eb,stroke:#9ca3af,color:#9ca3af
                            style PC_D fill:#e5e7eb,stroke:#9ca3af,color:#9ca3af
                            linkStyle 0,1 stroke:#22c55e,stroke-width:4px;
                            linkStyle 2,3 stroke:#9ca3af,stroke-width:1px,stroke-dasharray: 5 5;
                    </div>
                </div>

                <!-- Use Case -->
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h3 class="text-2xl font-bold text-blue-800 mb-4 border-b pb-2">四、實務應用場景 (Use Case)</h3>
                    <div class="bg-indigo-50 p-4 rounded border-l-4 border-indigo-500">
                        <p class="font-bold">企業園區網路核心</p>
                        <p class="text-sm text-gray-600 mt-1">現代企業完全依賴 Switch。例如使用 ExtremeSwitching 系列，透過 <strong>VLAN</strong> 將「財務部」與「訪客 Wi-Fi」隔離在同一台 Switch 上。財務部的資料即使經過 Switch，也絕對不會流向訪客的連接埠，確保了資安與效能。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTENT: COMPARISON -->
        <section id="content-comparison" class="hidden-content fade-in">
             <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-2xl font-bold text-blue-800 mb-6 text-center">終極比較表</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm text-left text-gray-700">
                        <thead class="text-xs text-white uppercase bg-slate-700">
                            <tr>
                                <th scope="col" class="px-6 py-3 rounded-tl-lg">特性</th>
                                <th scope="col" class="px-6 py-3 bg-red-500">HUB (集線器)</th>
                                <th scope="col" class="px-6 py-3 bg-yellow-500">BRIDGE (橋接器)</th>
                                <th scope="col" class="px-6 py-3 bg-blue-600 rounded-tr-lg">SWITCH (交換器)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white border-b hover:bg-gray-50">
                                <td class="px-6 py-4 font-bold">OSI 層級</td>
                                <td class="px-6 py-4">Layer 1 (實體層)</td>
                                <td class="px-6 py-4">Layer 2 (資料連結層)</td>
                                <td class="px-6 py-4 font-bold text-blue-600">Layer 2 (亦有 L3 Switch)</td>
                            </tr>
                            <tr class="bg-gray-50 border-b hover:bg-gray-100">
                                <td class="px-6 py-4 font-bold">智慧程度</td>
                                <td class="px-6 py-4">無腦 (Bit 重製)</td>
                                <td class="px-6 py-4">軟體智慧 (MAC Table)</td>
                                <td class="px-6 py-4 font-bold text-blue-600">硬體智慧 (ASIC + CAM Table)</td>
                            </tr>
                            <tr class="bg-white border-b hover:bg-gray-50">
                                <td class="px-6 py-4 font-bold">傳輸模式</td>
                                <td class="px-6 py-4">半雙工 (易碰撞)</td>
                                <td class="px-6 py-4">半/全雙工</td>
                                <td class="px-6 py-4">全雙工 (Full-Duplex)</td>
                            </tr>
                            <tr class="bg-gray-50 border-b hover:bg-gray-100">
                                <td class="px-6 py-4 font-bold">頻寬</td>
                                <td class="px-6 py-4">所有 Port 共享</td>
                                <td class="px-6 py-4">各網段獨立</td>
                                <td class="px-6 py-4 font-bold text-blue-600">每個 Port 獨享</td>
                            </tr>
                            <tr class="bg-white border-b hover:bg-gray-50">
                                <td class="px-6 py-4 font-bold">廣播網域 (Broadcast)</td>
                                <td class="px-6 py-4">1 個</td>
                                <td class="px-6 py-4">1 個</td>
                                <td class="px-6 py-4">1 個 (除非切 VLAN)</td>
                            </tr>
                            <tr class="bg-gray-50 border-b hover:bg-gray-100">
                                <td class="px-6 py-4 font-bold">碰撞網域 (Collision)</td>
                                <td class="px-6 py-4 text-red-600">1 個 (全部撞在一起)</td>
                                <td class="px-6 py-4">每個 Port 獨立</td>
                                <td class="px-6 py-4 text-green-600">每個 Port 獨立</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- QUIZ SECTION (Always Visible) -->
        <section class="mt-8 mb-12">
            <div class="bg-gradient-to-br from-slate-100 to-white p-6 rounded-xl shadow border border-gray-200">
                <h3 class="text-2xl font-bold text-gray-800 mb-4"><i class="fa-solid fa-clipboard-question mr-2"></i>五、隨堂測驗 (Quiz)</h3>
                <p class="mb-4 text-gray-600">準備好了嗎？讓我們來測試看看你是否已經具備架構師的基礎觀念。</p>
                
                <form id="quiz-form" class="space-y-6">
                    <!-- Q1 -->
                    <div class="bg-white p-4 rounded border hover:border-blue-300 transition">
                        <p class="font-bold text-lg mb-2">1. 關於 Hub 的描述，下列何者正確？</p>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q1" value="a" class="accent-blue-600"> <span>它會檢查 MAC 位址</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q1" value="b" class="accent-blue-600"> <span>它是全雙工運作</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q1" value="c" class="accent-blue-600"> <span>它屬於 OSI Layer 1 設備</span></label>
                        </div>
                        <div class="hidden mt-3 p-3 bg-green-100 text-green-800 rounded text-sm answer-box" data-answer="c">
                            <strong>正解：(C)</strong> <br>解析：Hub 只是電子訊號放大器，不看 MAC (Layer 2)，也沒有全雙工能力。
                        </div>
                    </div>

                    <!-- Q2 -->
                    <div class="bg-white p-4 rounded border hover:border-blue-300 transition">
                        <p class="font-bold text-lg mb-2">2. Switch 相較於 Bridge，最大的硬體架構差異為何？</p>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q2" value="a" class="accent-blue-600"> <span>Switch 使用 ASIC 晶片進行硬體轉發</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q2" value="b" class="accent-blue-600"> <span>Switch 只有兩個 Port</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q2" value="c" class="accent-blue-600"> <span>Switch 使用軟體處理封包</span></label>
                        </div>
                        <div class="hidden mt-3 p-3 bg-green-100 text-green-800 rounded text-sm answer-box" data-answer="a">
                            <strong>正解：(A)</strong> <br>解析：Switch 擁有 ASIC (Application-Specific Integrated Circuit) 專用晶片，能達到線速轉發，而 Bridge 傳統上依賴 CPU 軟體運算。
                        </div>
                    </div>

                    <!-- Q3 -->
                    <div class="bg-white p-4 rounded border hover:border-blue-300 transition">
                        <p class="font-bold text-lg mb-2">3. 在一個接滿電腦的 24-Port Switch 上（未切 VLAN），有多少個「碰撞網域 (Collision Domain)」？</p>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q3" value="a" class="accent-blue-600"> <span>1 個</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q3" value="b" class="accent-blue-600"> <span>24 個</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q3" value="c" class="accent-blue-600"> <span>0 個</span></label>
                        </div>
                        <div class="hidden mt-3 p-3 bg-green-100 text-green-800 rounded text-sm answer-box" data-answer="b">
                            <strong>正解：(B)</strong> <br>解析：Switch 的每一個 Port 都是一個獨立的碰撞網域。所以 24 Port 就有 24 個碰撞網域。但廣播網域預設只有 1 個。
                        </div>
                    </div>

                     <!-- Q4 -->
                     <div class="bg-white p-4 rounded border hover:border-blue-300 transition">
                        <p class="font-bold text-lg mb-2">4. 下列哪一種行為是 Switch 預設會做，但 Hub 做不到的？</p>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q4" value="a" class="accent-blue-600"> <span>廣播封包</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q4" value="b" class="accent-blue-600"> <span>學習 MAC Address 並建立轉發表</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q4" value="c" class="accent-blue-600"> <span>連接網路線</span></label>
                        </div>
                        <div class="hidden mt-3 p-3 bg-green-100 text-green-800 rounded text-sm answer-box" data-answer="b">
                            <strong>正解：(B)</strong> <br>解析：Hub 不會學習，只會無腦轉發。Switch 會紀錄來源 MAC 與 Port 的對應關係 (Learning)。
                        </div>
                    </div>

                     <!-- Q5 -->
                     <div class="bg-white p-4 rounded border hover:border-blue-300 transition">
                        <p class="font-bold text-lg mb-2">5. 若公司要隔離財務部與業務部的封包流量，最經濟有效的做法是？</p>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q5" value="a" class="accent-blue-600"> <span>購買兩個 Hub 分別連接</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q5" value="b" class="accent-blue-600"> <span>使用 Switch 並設定 VLAN</span></label>
                            <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="q5" value="c" class="accent-blue-600"> <span>把網線拔掉</span></label>
                        </div>
                        <div class="hidden mt-3 p-3 bg-green-100 text-green-800 rounded text-sm answer-box" data-answer="b">
                            <strong>正解：(B)</strong> <br>解析：使用 Switch 的 VLAN 功能是現代網路架構的標準做法，既能隔離廣播網域，又能提升資安。
                        </div>
                    </div>

                    <div class="text-center pt-4">
                        <button type="button" onclick="checkAnswers()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                            送出答案並查看解析
                        </button>
                    </div>
                </form>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-gray-400 py-6 text-center border-t border-slate-700">
        <div class="container mx-auto px-4">
            <p class="font-mono text-sm">
                Planning & Design by Timmy(timmyc@hauman.com.tw) | 豪勉科技 Hauman Technologies Corporation | Ver 1.0
            </p>
        </div>
    </footer>

    <!-- Mermaid Initialization Script (Key Fix) -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        
        // 1. Initialize with startOnLoad: false
        mermaid.initialize({ startOnLoad: false, theme: 'neutral' });

        // 2. Define global render function
        window.renderMermaidDiagrams = async () => {
            const elements = document.querySelectorAll('.mermaid');
            const visibleElements = [];
            
            // Only select visible elements that haven't been processed yet
            elements.forEach(el => {
                // Check if element is visible (offsetParent is not null) and has text content (not yet replaced by svg)
                if (el.offsetParent !== null && el.getAttribute('data-processed') !== 'true') {
                    visibleElements.push(el);
                }
            });

            if (visibleElements.length > 0) {
                try {
                    await mermaid.run({ nodes: visibleElements });
                    // Mark as processed
                    visibleElements.forEach(el => el.setAttribute('data-processed', 'true'));
                } catch (e) {
                    console.error("Mermaid rendering failed:", e);
                }
            }
        };

        // 3. Initial Render
        // Wait a bit for Tailwind and DOM to settle
        setTimeout(window.renderMermaidDiagrams, 100);
    </script>

    <!-- General Scripts -->
    <script>
        // Tab Switching Logic
        function switchTab(tabId) {
            // Hide all content
            const contents = ['hub', 'bridge', 'switch', 'comparison'];
            contents.forEach(c => {
                document.getElementById('content-' + c).style.display = 'none';
                document.getElementById('btn-' + c).classList.remove('tab-active', 'text-blue-900', 'border-blue-600');
                document.getElementById('btn-' + c).classList.add('tab-inactive');
            });

            // Show selected content
            document.getElementById('content-' + tabId).style.display = 'block';
            
            // Activate button
            const activeBtn = document.getElementById('btn-' + tabId);
            activeBtn.classList.remove('tab-inactive');
            activeBtn.classList.add('tab-active');

            // 4. Trigger Mermaid Render for the newly visible tab
            // Use setTimeout to ensure display:block has taken effect before mermaid measures
            if (window.renderMermaidDiagrams) {
                setTimeout(window.renderMermaidDiagrams, 50);
            }
        }

        // Quiz Logic
        function checkAnswers() {
            const answers = document.querySelectorAll('.answer-box');
            answers.forEach(box => {
                box.classList.remove('hidden');
                box.classList.add('block', 'fade-in');
            });
            alert("批改完成！請查看各題下方的解析。");
        }
    </script>
</body>
</html>