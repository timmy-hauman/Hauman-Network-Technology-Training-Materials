<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Addressing å…¨é¢è§£æ - ç¶²è·¯æ¶æ§‹å¸«è¦–è§’</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Mermaid JS for diagrams -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .mermaid { display: flex; justify-content: center; margin: 20px 0; background: white; padding: 20px; border-radius: 8px; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .bit-box { transition: all 0.3s ease; cursor: pointer; }
        .bit-box.active { background-color: #3b82f6; color: white; border-color: #2563eb; }
        .quiz-option:hover { background-color: #e5e7eb; }
        .quiz-option.correct { background-color: #d1fae5; border-color: #10b981; color: #065f46; }
        .quiz-option.wrong { background-color: #fee2e2; border-color: #ef4444; color: #991b1b; }
        .binary-row { font-family: 'Courier New', monospace; letter-spacing: 1px; }
        .bit-highlight { color: #ef4444; font-weight: bold; } /* Red for mask bits distinction */
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-slate-800 text-white p-6 shadow-lg">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold mb-2">IP Addressing æ·±åº¦è§£æ</h1>
            <p class="text-gray-300">å¾ Public/Private IP åˆ° CIDR èˆ‡äºŒé€²åˆ¶è½‰æ›çš„å®Œæ•´æŒ‡å—</p>
            <div class="mt-4 text-sm text-blue-300 font-mono">
                > Instructor: Network Architect (20 Years Exp.)
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto p-6 space-y-8">

        <!-- Section 1: Concept -->
        <section class="bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ (Concept)</h2>
            <div class="space-y-4">
                <div class="bg-blue-50 p-4 rounded-md">
                    <strong class="text-blue-700 text-lg">ä¸€å¥è©±å®šç¾©ï¼š</strong>
                    <p class="text-gray-700 mt-1">IP Address (ç¶²éš›ç¶²è·¯å”å®šä½ç½®) æ˜¯ç¶²è·¯ä¸Šæ¯ä¸€å€‹è¨­å‚™çš„ã€Œå”¯ä¸€è­˜åˆ¥è­‰ã€ï¼Œå°±åƒæ˜¯ç¾å¯¦ç”Ÿæ´»ä¸­çš„é–€ç‰Œè™Ÿç¢¼ã€‚</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                    <div>
                        <h3 class="font-bold text-lg mb-2 text-indigo-600">ç”Ÿæ´»åŒ–æ¯”å–»ï¼šé›»è©±ç³»çµ±</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li><strong>Public IP (å…¬æœ‰ IP)ï¼š</strong> å°±åƒå…¬å¸çš„<span class="font-bold text-red-500">ç¸½æ©Ÿè™Ÿç¢¼</span> (ä¾‹å¦‚ 02-2222-3333)ã€‚å…¨ä¸–ç•Œéƒ½å¯ä»¥ç›´æ¥æ’¥æ‰“é€™å€‹è™Ÿç¢¼æ‰¾åˆ°é€™å®¶å…¬å¸ã€‚</li>
                            <li><strong>Private IP (ç§æœ‰ IP)ï¼š</strong> å°±åƒå…¬å¸å…§éƒ¨çš„<span class="font-bold text-green-500">åˆ†æ©Ÿè™Ÿç¢¼</span> (ä¾‹å¦‚ åˆ†æ©Ÿ 101)ã€‚å¤–éƒ¨ç„¡æ³•ç›´æ¥æ’¥åˆ†æ©Ÿ 101 æ‰¾åˆ°ä½ ï¼Œå¿…é ˆé€éç¸½æ©Ÿè½‰æ¥ã€‚</li>
                            <li><strong>NAT (è½‰è­¯)ï¼š</strong> ç¸½æ©Ÿå°å§ï¼Œè² è²¬æŠŠå¤–éƒ¨æ‰“ä¾†çš„é›»è©±è½‰çµ¦å…§éƒ¨åˆ†æ©Ÿã€‚</li>
                        </ul>
                    </div>
                    <div class="flex items-center justify-center bg-gray-100 rounded-lg p-4">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ¢ â†”ï¸ ğŸ“</div>
                            <div class="text-sm text-gray-500">ç¸½æ©Ÿ (Public) vs åˆ†æ©Ÿ (Private)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Mechanism -->
        <section class="bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">äºŒã€é‹ä½œåŸç† (Mechanism)</h2>

            <!-- Tabs -->
            <div class="flex border-b border-gray-200 mb-4 overflow-x-auto">
                <button class="px-4 py-2 text-blue-600 border-b-2 border-blue-600 font-medium focus:outline-none tab-btn whitespace-nowrap" onclick="openTab(event, 'tab-class')">IP åˆ†ç´š (Classes)</button>
                <button class="px-4 py-2 text-gray-500 hover:text-blue-600 font-medium focus:outline-none tab-btn whitespace-nowrap" onclick="openTab(event, 'tab-binary')">äºŒé€²åˆ¶è½‰æ›å¯¦é©—å®¤</button>
                <button class="px-4 py-2 text-gray-500 hover:text-blue-600 font-medium focus:outline-none tab-btn whitespace-nowrap" onclick="openTab(event, 'tab-cidr')">CIDR è§€å¿µ</button>
                <button class="px-4 py-2 text-gray-500 hover:text-blue-600 font-medium focus:outline-none tab-btn whitespace-nowrap" onclick="openTab(event, 'tab-subnet-check')">å¯¦æˆ°ï¼šåŒç¶²æ®µåˆ¤æ–·</button>
            </div>

            <!-- Tab: IP Classes -->
            <div id="tab-class" class="tab-content active space-y-4">
                <p class="text-gray-600">IPv4 åœ°å€ç”± 32 ä½å…ƒçµ„æˆï¼Œé€šå¸¸åˆ†ç‚º 4 çµ„ 8 ä½å…ƒçš„åé€²åˆ¶æ•¸å­—é¡¯ç¤º (ä¾‹å¦‚ 192.168.1.1)ã€‚ç‚ºäº†ä¾¿æ–¼ç®¡ç†ï¼Œæ—©æœŸåˆ†ç‚ºäº”é¡ï¼Œæˆ‘å€‘ä¸»è¦é—œæ³¨ Aã€Bã€C ä¸‰é¡ã€‚</p>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm text-left text-gray-500">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr>
                                <th class="px-6 py-3">é¡åˆ¥</th>
                                <th class="px-6 py-3">ç¯„åœ (ç¬¬ä¸€çµ„æ•¸å­—)</th>
                                <th class="px-6 py-3">ç§æœ‰ IP ç¯„åœ (Private IP)</th>
                                <th class="px-6 py-3">é©ç”¨å ´æ™¯</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-white border-b">
                                <td class="px-6 py-4 font-bold text-red-600">Class A</td>
                                <td class="px-6 py-4">1 ~ 126</td>
                                <td class="px-6 py-4 font-mono text-gray-800 bg-gray-100 rounded">10.0.0.0 - 10.255.255.255</td>
                                <td class="px-6 py-4">è¶…å¤§å‹ç¶²è·¯ (è·¨åœ‹ä¼æ¥­ã€ISP)</td>
                            </tr>
                            <tr class="bg-white border-b">
                                <td class="px-6 py-4 font-bold text-yellow-600">Class B</td>
                                <td class="px-6 py-4">128 ~ 191</td>
                                <td class="px-6 py-4 font-mono text-gray-800 bg-gray-100 rounded">172.16.0.0 - 172.31.255.255</td>
                                <td class="px-6 py-4">ä¸­å¤§å‹ä¼æ¥­ã€æ ¡åœ’ç¶²</td>
                            </tr>
                            <tr class="bg-white">
                                <td class="px-6 py-4 font-bold text-green-600">Class C</td>
                                <td class="px-6 py-4">192 ~ 223</td>
                                <td class="px-6 py-4 font-mono text-gray-800 bg-gray-100 rounded">192.168.0.0 - 192.168.255.255</td>
                                <td class="px-6 py-4">å°å‹è¾¦å…¬å®¤ã€å®¶åº­ç¶²è·¯</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="text-xs text-gray-400 mt-2">* 127.x.x.x ç‚º Loopback æ¸¬è©¦ä½å€ï¼Œä¸å±¬æ–¼ä»»ä½•ä¸€é¡ã€‚</p>
            </div>

            <!-- Tab: Binary Converter -->
            <div id="tab-binary" class="tab-content space-y-6">
                <div class="bg-gray-800 text-white p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-center">äº’å‹•å¼ 8-bit è½‰æ›å™¨</h3>
                    <p class="text-sm text-gray-300 mb-6 text-center">é»æ“Šä¸‹æ–¹çš„ä½å…ƒé–‹é—œï¼Œè§€å¯ŸäºŒé€²åˆ¶èˆ‡åé€²åˆ¶çš„è®ŠåŒ–ã€‚é€™æ˜¯ç†è§£ Subnet Mask çš„åŸºç¤ã€‚</p>
                    
                    <!-- Binary Visualizer -->
                    <div class="flex justify-center space-x-2 mb-6">
                        <!-- Bits will be generated by JS -->
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">128</span>
                            <div id="bit-7" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(7)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">64</span>
                            <div id="bit-6" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(6)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">32</span>
                            <div id="bit-5" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(5)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">16</span>
                            <div id="bit-4" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(4)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">8</span>
                            <div id="bit-3" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(3)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">4</span>
                            <div id="bit-2" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(2)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">2</span>
                            <div id="bit-1" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(1)">0</div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-xs text-gray-400">1</span>
                            <div id="bit-0" class="bit-box w-10 h-10 border-2 border-gray-500 rounded flex items-center justify-center font-mono font-bold text-xl" onclick="toggleBit(0)">0</div>
                        </div>
                    </div>

                    <div class="text-center">
                        <div class="text-lg text-gray-400">åé€²åˆ¶ç¸½å’Œ</div>
                        <div id="decimal-output" class="text-5xl font-bold text-green-400 mt-2">0</div>
                    </div>
                </div>
            </div>

            <!-- Tab: CIDR -->
            <div id="tab-cidr" class="tab-content space-y-4">
                <h3 class="font-bold text-lg">CIDR (Classless Inter-Domain Routing)</h3>
                <p>CIDR ç”¨ã€Œæ–œç·šè¨˜æ³•ã€ä¾†è¡¨ç¤ºå­ç¶²è·¯é®ç½©ã€‚ä¾‹å¦‚ <code class="bg-gray-100 px-1 rounded">/24</code> ä»£è¡¨äºŒé€²åˆ¶çš„å‰ 24 å€‹ä½å…ƒéƒ½æ˜¯ 1ã€‚</p>
                <div class="bg-blue-50 p-4 rounded border border-blue-200">
                    <p class="font-bold">ç¯„ä¾‹ï¼š192.168.1.0/24</p>
                    <ul class="list-disc ml-5 mt-2 space-y-1 text-sm">
                        <li><strong>ç¶²è·¯ä½å…ƒ (Network Bits)ï¼š</strong> 24 bits (æ±ºå®šç¶²æ®µ)</li>
                        <li><strong>ä¸»æ©Ÿä½å…ƒ (Host Bits)ï¼š</strong> 32 - 24 = 8 bits (æ±ºå®šè©²ç¶²æ®µèƒ½æœ‰å¤šå°‘è¨­å‚™)</li>
                        <li><strong>å¯ç”¨ IP æ•¸é‡ï¼š</strong> 2<sup>8</sup> - 2 = 254 å€‹ (-2 æ˜¯å› ç‚ºæ‰£é™¤ Network ID èˆ‡ Broadcast IP)</li>
                        <li><strong>å­ç¶²è·¯é®ç½©ï¼š</strong> 255.255.255.0</li>
                    </ul>
                </div>
                <div class="mt-4">
                    <h4 class="font-semibold mb-2">å¸¸ç”¨ CIDR é€ŸæŸ¥è¡¨ï¼š</h4>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-center">
                        <div class="bg-gray-100 p-2 rounded">/8 (Class A)</div>
                        <div class="bg-gray-100 p-2 rounded">/16 (Class B)</div>
                        <div class="bg-gray-100 p-2 rounded">/24 (Class C)</div>
                        <div class="bg-gray-100 p-2 rounded">/30 (P2P Link)</div>
                    </div>
                </div>
            </div>

            <!-- Tab: Subnet Check (NEW) -->
            <div id="tab-subnet-check" class="tab-content space-y-6">
                <!-- Title Red -->
                <h3 class="font-bold text-xl text-red-600 border-b-2 border-red-200 pb-2">å¯¦æˆ°ï¼šåŒç¶²æ®µåˆ¤æ–· - 10.10.10.1/30 èˆ‡ 10.10.10.5/30</h3>
                
                <div class="bg-yellow-50 p-4 rounded-md border-l-4 border-yellow-400">
                    <p class="font-bold text-lg">çµè«–ï¼šä¸æ˜¯ï¼å®ƒå€‘å±¬æ–¼ä¸åŒçš„å­ç¶²è·¯ã€‚</p>
                    <p class="text-sm mt-1">é€éä¸‹æ–¹çš„ã€Œå®Œæ•´ä½å…ƒé‹ç®—ã€ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ° 10.10.10.1 èˆ‡ 10.10.10.5 åœ¨ç¶“é /30 é®ç½©éæ¿¾å¾Œï¼Œç”¢ç”Ÿäº†ä¸åŒçš„ Network IDã€‚</p>
                </div>

                <!-- Steps Container (Vertical Stack) -->
                <div class="space-y-8">
                    
                    <!-- Step 1 -->
                    <div class="bg-white p-5 rounded border shadow-sm">
                        <h4 class="font-bold text-slate-700 mb-3 flex items-center">
                            <span class="bg-slate-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm">1</span>
                            æ­¥é©Ÿä¸€ï¼šç†è§£ /30 é®ç½©
                        </h4>
                        <p class="text-gray-600 mb-4">
                            /30 ä»£è¡¨ IP ä½å€çš„å‰ 30 å€‹ä½å…ƒ (Bits) æ˜¯ç¶²è·¯ä½å…ƒ (Network Bits)ï¼Œä¸å¯è®Šå‹•ã€‚åªæœ‰æœ€å¾Œ 2 å€‹ä½å…ƒæ˜¯ä¸»æ©Ÿä½å…ƒ (Host Bits)ã€‚
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-mono bg-gray-100 p-4 rounded">
                            <div>
                                <div class="text-gray-500">Subnet Mask (Decimal)</div>
                                <div class="font-bold text-lg">255.255.255.252</div>
                            </div>
                            <div>
                                <div class="text-gray-500">Subnet Mask (Binary)</div>
                                <div class="text-xs break-all">11111111.11111111.11111111.<span class="text-red-600 font-bold">111111</span>00</div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="bg-white p-5 rounded border shadow-sm">
                        <h4 class="font-bold text-slate-700 mb-3 flex items-center">
                            <span class="bg-slate-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm">2</span>
                            æ­¥é©ŸäºŒï¼šå®Œæ•´ä½å…ƒ AND é‹ç®—
                        </h4>
                        <p class="text-gray-600 mb-4 text-sm">
                            å°‡ IP ä½å€èˆ‡é®ç½©é€²è¡ŒäºŒé€²åˆ¶ AND é‹ç®— (åªæœ‰ 1 AND 1 æ‰æœƒæ˜¯ 1ï¼Œå¦å‰‡ç‚º 0)ã€‚è«‹è§€å¯Ÿç´…å­—æ¨™ç¤ºçš„ç¶²è·¯é‚Šç•Œã€‚
                        </p>
                        
                        <!-- Calculation Block 1 -->
                        <div class="mb-8">
                            <h5 class="font-bold text-blue-700 mb-2 border-l-4 border-blue-700 pl-2">è¨ˆç®— Aï¼š10.10.10.1 /30</h5>
                            <div class="overflow-x-auto bg-slate-900 text-green-400 p-4 rounded shadow-inner">
                                <pre class="binary-row text-xs md:text-sm">
Decimal : 10      .10      .10      .1
IP Bin  : 00001010.00001010.00001010.00000001
Mask    : 11111111.11111111.11111111.11111100  (/30)
AND Op  : -----------------------------------
Network : 00001010.00001010.00001010.000000<span class="text-white">00</span>
Decimal : 10      .10      .10      .<span class="text-white font-bold text-lg">0</span>    (Network ID)
                                </pre>
                            </div>
                            <p class="text-xs text-blue-600 mt-2 font-bold">ğŸ‘‰ ç¶²æ®µç¯„åœï¼š10.10.10.0 ~ 10.10.10.3 (å¯ç”¨: .1, .2)</p>
                        </div>

                        <!-- Calculation Block 2 -->
                        <div>
                            <h5 class="font-bold text-green-700 mb-2 border-l-4 border-green-700 pl-2">è¨ˆç®— Bï¼š10.10.10.5 /30</h5>
                            <div class="overflow-x-auto bg-slate-900 text-green-400 p-4 rounded shadow-inner">
                                <pre class="binary-row text-xs md:text-sm">
Decimal : 10      .10      .10      .5
IP Bin  : 00001010.00001010.00001010.00000101
Mask    : 11111111.11111111.11111111.11111100  (/30)
AND Op  : -----------------------------------
Network : 00001010.00001010.00001010.000001<span class="text-white">00</span>
Decimal : 10      .10      .10      .<span class="text-white font-bold text-lg">4</span>    (Network ID)
                                </pre>
                            </div>
                            <p class="text-xs text-green-600 mt-2 font-bold">ğŸ‘‰ ç¶²æ®µç¯„åœï¼š10.10.10.4 ~ 10.10.10.7 (å¯ç”¨: .5, .6)</p>
                        </div>

                    </div>
                </div>

                <div class="mt-4 p-4 bg-gray-100 rounded text-sm border-t border-gray-300">
                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                    <strong>æ¶æ§‹å¸«è§€é»ï¼š</strong> 
                    å› ç‚ºç®—å‡ºä¾†çš„ Network ID ä¸€å€‹æ˜¯ <strong>.0</strong>ï¼Œå¦ä¸€å€‹æ˜¯ <strong>.4</strong>ï¼Œé€™è­‰æ˜å®ƒå€‘åœ¨Layer 3æ˜¯å®Œå…¨ä¸åŒçš„ç¶²è·¯ã€‚å¦‚æœé€™å…©å°è¨­å‚™ç›´æ¥å°æ¥ (ä¾‹å¦‚ç”¨ä¸€æ¢ç¶²è·¯ç·šé€£èµ·ä¾†)ï¼Œå®ƒå€‘ç„¡æ³• Ping é€šå°æ–¹ï¼Œé™¤éä¸­é–“æœ‰ Router æˆ–å°‡é®ç½©æ”¹ç‚º /29 (åŒ…å« .0 ~ .7)ã€‚
                </div>
            </div>
        </section>

        <!-- Section 3: Visuals -->
        <section class="bg-white rounded-lg shadow-md p-6 border-l-4 border-emerald-500">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">ä¸‰ã€æ¶æ§‹è¦–è¦ºåŒ– (Visuals)</h2>
            <p class="mb-4 text-gray-600">ä¸‹åœ–å±•ç¤ºäº† Public IP èˆ‡ Private IP å¦‚ä½•åœ¨ä¼æ¥­ç’°å¢ƒä¸­å…±å­˜ã€‚è«‹æ³¨æ„è·¯ç”±å™¨ (Router) æ‰®æ¼”çš„é‚Šç•Œè§’è‰²ã€‚</p>
            
            <div class="mermaid">
            graph TD
                Internet((ç¶²éš›ç¶²è·¯<br>The Internet)) 
                
                subgraph "Public Network (å…¬ç¶²)"
                    ISP[ISP æ¥­è€…]
                    PublicIP[ä¼æ¥­è·¯ç”±å™¨ WAN<br>Public IP: 203.0.113.5]
                end

                subgraph "Private Network (ç§ç¶² - LAN)"
                    Router[ä¼æ¥­è·¯ç”±å™¨ NAT/Gateway]
                    Switch[L2 äº¤æ›å™¨]
                    PC1[è²¡å‹™éƒ¨é›»è…¦<br>192.168.1.10/24]
                    PC2[äººè³‡éƒ¨é›»è…¦<br>192.168.1.20/24]
                    Server[å…§éƒ¨ä¼ºæœå™¨<br>192.168.1.100/24]
                end

                Internet --- ISP
                ISP --- PublicIP
                PublicIP --- Router
                Router --- Switch
                Switch --> PC1
                Switch --> PC2
                Switch --> Server

                style PublicIP fill:#f96,stroke:#333,stroke-width:2px
                style PC1 fill:#bbf,stroke:#333
                style PC2 fill:#bbf,stroke:#333
                style Server fill:#bfb,stroke:#333
            </div>
            <div class="text-sm text-gray-500 mt-2 text-center">åœ–ç¤ºï¼šMermaid ç¹ªè£½çš„ IP æ¶æ§‹æ‹“æ’²</div>
        </section>

        <!-- Section 4: Use Case -->
        <section class="bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">å››ã€å¯¦å‹™æ‡‰ç”¨å ´æ™¯ (Use Case)</h2>
            
            <div class="mb-6">
                <h3 class="font-bold text-lg text-slate-700">å ´æ™¯ï¼šä¸­å‹ä¼æ¥­ç¸½éƒ¨çš„ IP è¦åŠƒ</h3>
                <p class="text-gray-600 mt-2">
                    ä¸€å®¶æœ‰ 200 åå“¡å·¥çš„å…¬å¸ï¼Œå‘ ISP ç”³è«‹äº†ä¸€æ¢å…‰çº–ç·šè·¯ï¼ŒISP æä¾›äº†ä¸€çµ„å›ºå®š Public IP (59.124.x.x)ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-gray-50 p-4 rounded">
                    <h4 class="font-bold text-gray-700 mb-2">æŒ‘æˆ°</h4>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                        <li>Public IP åªæœ‰ä¸€å€‹ï¼Œä½†æœ‰ 200 å°é›»è…¦è¦ä¸Šç¶²ã€‚</li>
                        <li>éƒ¨é–€ä¹‹é–“ (æ¥­å‹™éƒ¨ã€ç ”ç™¼éƒ¨) éœ€è¦éš”é›¢ï¼Œé¿å…è³‡æ–™å¤–æ´©ã€‚</li>
                    </ul>
                </div>
                <div class="bg-blue-50 p-4 rounded">
                    <h4 class="font-bold text-blue-800 mb-2">è§£æ±ºæ–¹æ¡ˆ (Design)</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                        <li><strong>NAT æŠ€è¡“ï¼š</strong> æ‰€æœ‰ 200 äººé€éè·¯ç”±å™¨çš„ NAT åŠŸèƒ½ï¼Œå…±ç”¨é‚£ä¸€å€‹ Public IP ä¸Šç¶²ã€‚</li>
                        <li><strong>VLAN + CIDR åŠƒåˆ†ï¼š</strong> 
                            <ul class="ml-4 mt-1 text-xs">
                                <li>æ¥­å‹™éƒ¨: 192.168.10.0/24</li>
                                <li>ç ”ç™¼éƒ¨: 192.168.20.0/24</li>
                                <li>ä¼ºæœå™¨å€: 192.168.30.0/24</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 5: Quiz -->
        <section class="bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">äº”ã€éš¨å ‚æ¸¬é©— (Quiz)</h2>
            <p class="mb-4 text-gray-600">è«‹å˜—è©¦å›ç­”ä»¥ä¸‹å•é¡Œï¼Œæ¸¬è©¦ä½ çš„ç†è§£ç¨‹åº¦ã€‚</p>
            
            <div class="space-y-6" id="quiz-container">
                <!-- Questions will be injected by JS -->
            </div>
            
            <div id="quiz-result" class="hidden mt-6 p-4 bg-gray-100 rounded text-center font-bold text-xl"></div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-gray-400 py-8 text-center text-sm">
        <div class="container mx-auto">
            <p>Planning & Design by Timmy(timmyc@hauman.com.tw)</p>
            <p class="mt-1">è±ªå‹‰ç§‘æŠ€ Hauman Technologies Corporation | Ver 1.0</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // --- Mermaid Init ---
        // Ensure mermaid loads after DOM is ready
        document.addEventListener("DOMContentLoaded", function() {
            mermaid.initialize({ 
                startOnLoad: true, 
                theme: 'neutral',
                securityLevel: 'loose'
            });
        });

        // --- Tabs Logic ---
        function openTab(evt, tabName) {
            var i, tabContent, tabBtn;
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].classList.remove("active");
            }
            tabBtn = document.getElementsByClassName("tab-btn");
            for (i = 0; i < tabBtn.length; i++) {
                tabBtn[i].classList.remove("text-blue-600", "border-b-2", "border-blue-600");
                tabBtn[i].classList.add("text-gray-500");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.remove("text-gray-500");
            evt.currentTarget.classList.add("text-blue-600", "border-b-2", "border-blue-600");
        }

        // --- Binary Converter Logic ---
        let currentBits = [0, 0, 0, 0, 0, 0, 0, 0];
        
        function toggleBit(index) {
            // Toggle state
            currentBits[index] = currentBits[index] === 0 ? 1 : 0;
            
            // Update UI for the clicked bit
            const bitEl = document.getElementById(`bit-${index}`);
            if (currentBits[index] === 1) {
                bitEl.classList.add("active");
                bitEl.innerText = "1";
            } else {
                bitEl.classList.remove("active");
                bitEl.innerText = "0";
            }
            
            // Calculate Decimal
            let decimal = 0;
            for (let i = 0; i < 8; i++) {
                if (currentBits[i] === 1) {
                    decimal += Math.pow(2, i);
                }
            }
            document.getElementById("decimal-output").innerText = decimal;
        }

        // --- Quiz Logic ---
        const questions = [
            {
                q: "1. å“ªä¸€å€‹ IP ä½å€å±¬æ–¼ Private IP (ç§æœ‰ IP) ç¯„åœï¼Ÿ",
                options: ["8.8.8.8", "192.168.1.1", "168.95.1.1", "203.0.113.5"],
                answer: 1,
                explanation: "192.168.x.x æ˜¯ Class C çš„ç§æœ‰ IP ç¯„åœã€‚8.8.8.8 (Google)ã€168.95.1.1 (ä¸­è¯é›»ä¿¡ DNS) éƒ½æ˜¯å…¬æœ‰ IPã€‚"
            },
            {
                q: "2. CIDR æ¨™ç¤ºæ³•ä¸­ï¼Œ/24 ä»£è¡¨å­ç¶²è·¯é®ç½© (Subnet Mask) æ˜¯å¤šå°‘ï¼Ÿ",
                options: ["255.0.0.0", "255.255.0.0", "255.255.255.0", "255.255.255.255"],
                answer: 2,
                explanation: "/24 ä»£è¡¨å‰ 24 å€‹ä½å…ƒç‚º 1ï¼Œå³ 11111111.11111111.11111111.00000000ï¼Œæ›ç®—åé€²åˆ¶ç‚º 255.255.255.0ã€‚"
            },
            {
                q: "3. äºŒé€²åˆ¶æ•¸å­— 10000000 è½‰æ›æˆåé€²åˆ¶æ˜¯å¤šå°‘ï¼Ÿ",
                options: ["128", "192", "255", "1"],
                answer: 0,
                explanation: "é€™æ˜¯ç¬¬ 8 å€‹ä½å…ƒ (2çš„7æ¬¡æ–¹)ï¼Œå€¼ç‚º 128ã€‚"
            },
            {
                q: "4. æ ¹æ“šæ–°å­¸åˆ°çš„çŸ¥è­˜ï¼Œ10.10.10.1/30 å’Œ 10.10.10.2/30 æ˜¯å¦åœ¨åŒä¸€å€‹ç¶²æ®µï¼Ÿ",
                options: ["æ˜¯", "å¦", "ä¸ä¸€å®š", "è¦–è·¯ç”±å™¨å» ç‰Œè€Œå®š"],
                answer: 0,
                explanation: "æ˜¯çš„ã€‚/30 çš„ç¬¬ä¸€å€‹ç¶²æ®µæ˜¯ .0 (Network ID)ï¼ŒåŒ…å« .1 å’Œ .2 (å¯ç”¨ IP)ï¼Œå»£æ’­ç‚º .3ã€‚å®ƒå€‘å±¬æ–¼ 10.10.10.0/30 ç¶²æ®µã€‚"
            },
            {
                q: "5. åœ¨å®¶ä¸­ç”¨é›»è…¦ä¸Šç¶²ï¼Œå°å¤–éƒ¨ç¶²ç«™è€Œè¨€ï¼Œä»–å€‘çœ‹åˆ°çš„ IP æ˜¯ï¼Ÿ",
                options: ["é›»è…¦çš„ 192.168.1.x IP", "å®¶ä¸­è·¯ç”±å™¨çš„ Public IP", "é›»è…¦çš„ MAC Address", "ISP çš„ç§æœ‰ IP"],
                answer: 1,
                explanation: "é€é NAT æŠ€è¡“ï¼Œå…§éƒ¨å¤šå°è£ç½®ä¸Šç¶²æ™‚ï¼Œå¤–éƒ¨åªæœƒçœ‹åˆ°è·¯ç”±å™¨ä»‹é¢ä¸Šçš„ Public IPã€‚"
            }
        ];

        function loadQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = ''; // Clear previous if any
            questions.forEach((item, index) => {
                const qDiv = document.createElement('div');
                qDiv.className = "border border-gray-200 rounded p-4";
                
                let optionsHtml = '';
                item.options.forEach((opt, optIndex) => {
                    optionsHtml += `<button class="quiz-option w-full text-left p-2 rounded mt-1 border border-transparent transition-colors" onclick="checkAnswer(this, ${index}, ${optIndex})">${String.fromCharCode(65+optIndex)}. ${opt}</button>`;
                });

                qDiv.innerHTML = `
                    <h3 class="font-bold text-lg mb-2">${item.q}</h3>
                    <div class="space-y-1">${optionsHtml}</div>
                    <div id="explanation-${index}" class="hidden mt-3 p-3 bg-blue-50 text-blue-800 text-sm rounded"><strong>è§£æï¼š</strong>${item.explanation}</div>
                `;
                container.appendChild(qDiv);
            });
        }

        function checkAnswer(btn, qIndex, optIndex) {
            const parent = btn.parentElement;
            const allBtns = parent.getElementsByTagName('button');
            const correctAnswer = questions[qIndex].answer;
            const explanationDiv = document.getElementById(`explanation-${qIndex}`);

            // Disable all buttons for this question
            for(let b of allBtns) {
                b.disabled = true;
                b.classList.add('cursor-not-allowed');
            }

            if (optIndex === correctAnswer) {
                btn.classList.add('correct');
            } else {
                btn.classList.add('wrong');
                // Highlight the correct one
                allBtns[correctAnswer].classList.add('correct');
            }
            
            // Show explanation
            explanationDiv.classList.remove('hidden');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', loadQuiz);
    </script>
</body>
</html>