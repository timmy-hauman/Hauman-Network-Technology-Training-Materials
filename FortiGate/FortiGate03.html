<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortinet FortiGate å¯¦æˆ°èª²ç¨‹ - é˜²ç«ç‰†ç­–ç•¥èˆ‡ç‰©ä»¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        
        .section-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 5px solid #c53030; /* Fortinet Red-ish */
        }

        .highlight-box {
            background-color: #fff5f5;
            border-left: 4px solid #c53030;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        .tech-term {
            color: #c53030;
            font-weight: 700;
            background-color: #fef2f2;
            padding: 0.1rem 0.3rem;
            border-radius: 0.2rem;
        }

        .analogy-box {
            background-color: #f0fdf4;
            border-left: 4px solid #16a34a;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        /* å„ªåŒ–å¾Œçš„ CLI å€å¡Šæ¨£å¼ */
        .config-box {
            background-color: #1e293b; /* æ·±è‰²èƒŒæ™¯ */
            color: #a5b4fc; /* æ·ºè—ç´«è‰²æ–‡å­—ï¼Œé–±è®€èˆ’é© */
            padding: 1.5rem;
            padding-top: 2.5rem; /* é ç•™é ‚éƒ¨ç©ºé–“çµ¦æ¨™ç±¤ */
            border-radius: 0.5rem;
            font-family: 'Fira Code', 'Consolas', 'Monaco', monospace; /* ç­‰å¯¬å­—é«” */
            margin-top: 1rem;
            border-left: 4px solid #3b82f6;
            font-size: 0.875rem;
            line-height: 1.5;
            overflow-x: auto; /* å…§å®¹éé•·å¯æ²å‹• */
            white-space: pre; /* é—œéµï¼šä¿ç•™åŸå§‹æ›è¡Œèˆ‡ç¸®æ’ */
            position: relative;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.3);
        }

        .config-box::before {
            content: "FortiGate CLI";
            position: absolute;
            top: 0;
            left: 0;
            background: #3b82f6;
            color: white;
            font-size: 0.75rem;
            font-weight: bold;
            padding: 0.25rem 0.75rem;
            border-bottom-right-radius: 0.5rem;
            font-family: 'Noto Sans TC', sans-serif;
            letter-spacing: 0.05em;
        }

        .gui-box {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 0.5rem;
        }
        
        .gui-label {
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 600;
            display: inline-block;
            width: 140px;
        }
        
        .gui-value {
            color: #0f172a;
            font-weight: 500;
        }

        .mermaid-container {
            display: flex;
            justify-content: center;
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
            margin-top: 1rem;
            overflow-x: auto;
        }

        .mermaid {
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .quiz-option {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quiz-option:hover {
            background-color: #f3f4f6;
        }

        .footer-signature {
            background-color: #2d3748;
            color: #a0aec0;
            text-align: center;
            padding: 1rem;
            font-size: 0.875rem;
            margin-top: 4rem;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-gradient-to-r from-red-700 to-red-900 text-white shadow-lg">
        <div class="container mx-auto px-4 py-8">
            <div class="flex items-center space-x-4">
                <i class="fas fa-shield-alt text-4xl"></i>
                <div>
                    <h1 class="text-3xl font-bold">Fortinet FortiGate å¯¦æˆ°èª²ç¨‹</h1>
                    <p class="text-red-100 mt-1">éšæ®µä¸€ï¼šåŸºç¤åœ°åŸº (Level 1) - å–®å…ƒ 3ï¼šé˜²ç«ç‰†ç­–ç•¥èˆ‡ç‰©ä»¶ (Policy & Objects)</p>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-5xl">

        <!-- Introduction -->
        <div class="mb-8">
            <p class="text-lg text-gray-700 leading-relaxed">
                é€™æ˜¯é˜²ç«ç‰†é‹ä½œçš„æ ¸å¿ƒéˆé­‚ã€‚åœ¨ FortiGate ä¸­ï¼Œ<span class="font-bold text-red-700">ç‰©ä»¶ (Objects)</span> æ˜¯å¯é‡è¤‡ä½¿ç”¨çš„ç©æœ¨ï¼Œè€Œ <span class="font-bold text-red-700">ç­–ç•¥ (Policy)</span> å‰‡æ˜¯æ±ºå®šèª°èƒ½é€šéå¤§é–€çš„è¦å‰‡æ›¸ã€‚æœ¬å–®å…ƒå°‡å¸¶æ‚¨æŒæ¡å¦‚ä½•æ§‹å»ºé«˜æ•ˆã€æ˜“ç®¡ç†çš„é˜²ç«ç‰†è¦å‰‡ã€‚
            </p>
        </div>

        <!-- ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ -->
        <div class="section-card">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-red-100 text-red-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded">Concept</span>
                ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ
            </h2>
            
            <div class="grid md:grid-cols-1 gap-6">
                <!-- å®šç¾©èˆ‡æ¯”å–» -->
                <div>
                    <h3 class="text-xl font-semibold mb-2">1. ç­–ç•¥èˆ‡ç‰©ä»¶ (Policy & Objects)</h3>
                    <p class="mb-2"><strong>å®šç¾©ï¼š</strong> é˜²ç«ç‰†ç­–ç•¥æ˜¯æ§åˆ¶æµé‡é€šéçš„ã€Œè¦å‰‡æ¸…å–®ã€ï¼›è€Œç‰©ä»¶å‰‡æ˜¯å°‡é‡è¤‡ä½¿ç”¨çš„è³‡è¨Šï¼ˆå¦‚ IPã€æœå‹™åŸ è™Ÿï¼‰æ‰“åŒ…æˆçš„ã€Œç¾¤çµ„æ¨™ç±¤ã€ã€‚</p>
                    
                    <div class="analogy-box">
                        <p class="font-bold text-green-800 mb-2">ğŸ¢ ç”Ÿæ´»åŒ–æ¯”å–»ï¼šå¤§æ¨“ä¿å…¨èˆ‡è¨ªå®¢åå–®</p>
                        <p class="mb-2">æƒ³åƒ FortiGate æ˜¯ä¸€æ£Ÿé«˜ç´šå•†æ¥­å¤§æ¨“çš„<strong>å¤§å»³ä¿å…¨ (Firewall)</strong>ã€‚</p>
                        <ul class="list-disc list-inside space-y-1 ml-2">
                            <li><strong>ç‰©ä»¶ (Objects)ï¼š</strong>å°±åƒæ˜¯æˆ‘å€‘çµ¦äººè²¼çš„æ¨™ç±¤ã€‚ä¸ç”¨è¨˜ä½æ¯å€‹äººçš„èº«åˆ†è­‰å­—è™Ÿ (IP)ï¼Œåªè¦çµ¦ä»–å€‘ä¸€å€‹ä»£è™Ÿå«ã€Œæœƒè¨ˆéƒ¨äººå“¡ã€(Address Object)ã€‚</li>
                            <li><strong>ç­–ç•¥ (Policy)ï¼š</strong>å°±æ˜¯ä¿å…¨æ‰‹ä¸Šçš„é‚£ä¸€å¼µã€Œæ”¾è¡Œæ¸…å–®ã€ã€‚è¦å‰‡å¯«è‘—ï¼šã€Œå¦‚æœæ˜¯ã€æœƒè¨ˆéƒ¨äººå“¡ã€è¦å»ã€è²¡å‹™é‡‘åº«ã€ï¼Œå‰‡ã€å…è¨±é€²å…¥ã€ã€ã€‚</li>
                            <li><strong>é †åº (Priority)ï¼š</strong>æ¸…å–®å¾ç¬¬ä¸€è¡Œé–‹å§‹è®€ã€‚å¦‚æœç¬¬ä¸€è¡Œå¯«ã€Œä»Šæ—¥é–‰é¤¨ã€ï¼Œå°±ç®—ä½ æ˜¯è€é—†ä¹Ÿæœƒè¢«æ“‹åœ¨é–€å£ï¼Œå› ç‚ºä¿å…¨çœ‹åˆ°ç¬¬ä¸€è¡Œå°±åŸ·è¡Œäº† (Top-Down)ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- äºŒã€é‹ä½œåŸç† -->
        <div class="section-card">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-blue-100 text-blue-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded">Mechanism</span>
                äºŒã€é‹ä½œåŸç†
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- ç‰©ä»¶åŒ–ç®¡ç† -->
                <div>
                    <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-3">1. ç‰©ä»¶åŒ–ç®¡ç† (Object-Based)</h3>
                    <p class="text-gray-700 mb-2">FortiGate å¼·çƒˆå»ºè­°ä½¿ç”¨ç‰©ä»¶ï¼Œè€Œéç›´æ¥åœ¨è¦å‰‡ä¸­è¼¸å…¥ IPã€‚</p>
                    <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                        <li><strong>Address Objectï¼š</strong>å®šç¾© IPã€å­ç¶²æ®µ (Subnet)ã€FQDN (å¦‚ www.google.com) æˆ–åœ°ç†ä½ç½® (GeoIP)ã€‚</li>
                        <li><strong>Service Objectï¼š</strong>å®šç¾©é€šè¨Šå”å®šèˆ‡åŸ è™Ÿ (å¦‚ TCP/443, UDP/53)ã€‚</li>
                        <li><strong>å„ªå‹¢ï¼š</strong>ç•¶ä¼ºæœå™¨ IP è®Šæ›´æ™‚ï¼Œåªéœ€ä¿®æ”¹ Object å…§å®¹ï¼Œæ‰€æœ‰å¼•ç”¨è©² Object çš„ 50 æ¢ Policy æœƒè‡ªå‹•æ›´æ–°ã€‚</li>
                    </ul>
                </div>

                <!-- åŒ¹é…é‚è¼¯ -->
                <div>
                    <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-3">2. ç­–ç•¥åŒ¹é…é‚è¼¯ (Matching Logic)</h3>
                    <p class="text-gray-700 mb-2">æ ¸å¿ƒè¡Œç‚ºæ¨¡å¼ï¼š<span class="tech-term">Top-Down First Match</span></p>
                    <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                        <li><strong>ç”±ä¸Šè€Œä¸‹æƒæï¼š</strong> å°åŒ…é€²å…¥å¾Œï¼Œä¾åºæ¯”å° ID 1, ID 2, ID 3...</li>
                        <li><strong>æ“‡ä¸€åŒ¹é… (First Match)ï¼š</strong> ä¸€æ—¦ç¬¦åˆæŸä¸€æ¢è¦å‰‡çš„ã€Œæ‰€æœ‰æ¢ä»¶ã€(ä¾†æºã€ç›®çš„ã€æœå‹™ã€æ™‚é–“)ï¼Œç«‹å³åŸ·è¡Œå‹•ä½œ (Allow/Deny)ï¼Œä¸¦<span class="font-bold text-red-600">åœæ­¢</span>å¾€ä¸‹æœå°‹ã€‚</li>
                        <li><strong>éš±å¼æ‹’çµ• (Implicit Deny)ï¼š</strong> è‹¥å®Œå…¨æ²’é…å°åˆ°ä»»ä½•è¦å‰‡ï¼Œå‰‡è§¸ç™¼æœ€åº•å±¤çš„ Default Denyï¼Œé è¨­ä¸Ÿæ£„å°åŒ…ã€‚</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box mt-6">
                <h4 class="font-bold text-red-800 mb-1">ğŸ”‘ é—œéµäº”è¦ç´  (5-Tuple Match)</h4>
                <p class="text-sm">è¦è®“ä¸€æ¢ç­–ç•¥ç”Ÿæ•ˆï¼Œå°åŒ…å¿…é ˆåŒæ™‚ç¬¦åˆï¼š<strong>Source Interface/Address</strong> + <strong>Destination Interface/Address</strong> + <strong>Service</strong> + <strong>Schedule</strong>ã€‚è‹¥å‹•ä½œç‚º ACCEPTï¼Œå‰‡å°åŒ…é€šéã€‚</p>
            </div>
        </div>

        <!-- ä¸‰ã€å¯¦æˆ°è¨­å®šç¯„ä¾‹ (CLIæ’ç‰ˆä¿®å¾©) -->
        <div class="section-card">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-gray-100 text-gray-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded">Configuration</span>
                ä¸‰ã€å¯¦æˆ°è¨­å®šç¯„ä¾‹ (CLI & GUI)
            </h2>
            <p class="mb-4 text-gray-600">æœ¬ç¯€ç¤ºç¯„å¦‚ä½•å»ºç«‹å¸¸ç”¨çš„ä½å€èˆ‡æœå‹™ç‰©ä»¶ï¼Œä¸¦æä¾› GUI èˆ‡ CLI å°ç…§ã€‚</p>

            <!-- Step 1: å–®ä¸€ IP -->
            <div class="mb-8">
                <h3 class="text-lg font-bold text-gray-700 mb-2 border-l-4 border-red-500 pl-2">Step 1: å»ºç«‹å–®ä¸€ IP ç‰©ä»¶ (Single Host)</h3>
                <p class="text-sm text-gray-500 mb-2">è·¯å¾‘ï¼š<span class="font-mono bg-gray-200 px-1">Policy & Objects > Addresses > Create New</span></p>
                
                <div class="gui-box">
                    <div class="mb-1"><span class="gui-label">Name:</span> <span class="gui-value">Web_Server_Local</span></div>
                    <div class="mb-1"><span class="gui-label">Type:</span> <span class="gui-value">Subnet</span></div>
                    <div class="mb-1"><span class="gui-label">IP/Netmask:</span> <span class="gui-value text-blue-600 font-mono">192.168.100.10/32</span> <span class="text-xs text-gray-400">(/32 ä»£è¡¨å–®ä¸€ IP)</span></div>
                    <div><span class="gui-label">Interface:</span> <span class="gui-value">any</span></div>
                </div>

                <div class="config-box">
config firewall address
    edit "Web_Server_Local"
        set subnet 192.168.100.10 255.255.255.255
    next
end
</div>
            </div>

            <!-- Step 2: FQDN -->
            <div class="mb-8">
                <h3 class="text-lg font-bold text-gray-700 mb-2 border-l-4 border-red-500 pl-2">Step 2: å»ºç«‹ FQDN ç‰©ä»¶ (Domain)</h3>
                <p class="text-sm text-gray-500 mb-2">é©ç”¨æ–¼ IP æµ®å‹•çš„é›²ç«¯æœå‹™ã€‚FQDN æ”¯æ´è¬ç”¨å­—å…ƒ (*)ã€‚</p>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="gui-box">
                        <div class="text-xs font-bold text-gray-400 mb-2 uppercase">Google ç‰©ä»¶</div>
                        <div class="mb-1"><span class="gui-label">Name:</span> <span class="gui-value">FQDN_Google</span></div>
                        <div class="mb-1"><span class="gui-label">Type:</span> <span class="gui-value">FQDN</span></div>
                        <div class="mb-1"><span class="gui-label">FQDN:</span> <span class="gui-value text-blue-600 font-mono">*.google.com</span></div>
                    </div>
                    <div class="gui-box">
                        <div class="text-xs font-bold text-gray-400 mb-2 uppercase">Facebook ç‰©ä»¶</div>
                        <div class="mb-1"><span class="gui-label">Name:</span> <span class="gui-value">FQDN_Facebook</span></div>
                        <div class="mb-1"><span class="gui-label">Type:</span> <span class="gui-value">FQDN</span></div>
                        <div class="mb-1"><span class="gui-label">FQDN:</span> <span class="gui-value text-blue-600 font-mono">*.facebook.com</span></div>
                    </div>
                </div>

                <div class="config-box">
config firewall address
    edit "FQDN_Google"
        set type fqdn
        set fqdn "*.google.com"
    next
    edit "FQDN_Facebook"
        set type fqdn
        set fqdn "*.facebook.com"
    next
end
</div>
            </div>

            <!-- Step 3: Grouping -->
            <div class="mb-8">
                <h3 class="text-lg font-bold text-gray-700 mb-2 border-l-4 border-red-500 pl-2">Step 3: å»ºç«‹ç‰©ä»¶ç¾¤çµ„ (Address Group)</h3>
                <p class="text-sm text-gray-500 mb-2">è·¯å¾‘ï¼š<span class="font-mono bg-gray-200 px-1">Policy & Objects > Address Groups</span></p>
                <div class="gui-box">
                    <div class="mb-1"><span class="gui-label">Group Name:</span> <span class="gui-value">Grp_Social_Media</span></div>
                    <div class="mb-1"><span class="gui-label">Members:</span> 
                        <span class="bg-gray-200 px-2 py-0.5 rounded text-sm text-gray-700 mr-1">FQDN_Google</span>
                        <span class="bg-gray-200 px-2 py-0.5 rounded text-sm text-gray-700">FQDN_Facebook</span>
                    </div>
                </div>

                <div class="config-box">
config firewall addrgrp
    edit "Grp_Social_Media"
        set member "FQDN_Google" "FQDN_Facebook"
    next
end
</div>
            </div>

            <!-- Step 4: Custom Service -->
            <div class="mb-8">
                <h3 class="text-lg font-bold text-gray-700 mb-2 border-l-4 border-red-500 pl-2">Step 4: å»ºç«‹è‡ªè¨‚æœå‹™ (Custom Service)</h3>
                <p class="text-sm text-gray-500 mb-2">
                    è‹¥æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨éæ¨™æº– Port (ä¾‹å¦‚ 10443)ï¼Œéœ€å»ºç«‹ Custom Serviceã€‚<br>
                    è·¯å¾‘ï¼š<span class="font-mono bg-gray-200 px-1">Policy & Objects > Services > Create New</span>
                </p>
                <div class="gui-box">
                    <div class="mb-1"><span class="gui-label">Name:</span> <span class="gui-value">TCP_10443_App</span></div>
                    <div class="mb-1"><span class="gui-label">Category:</span> <span class="gui-value">Network Services</span></div>
                    <div class="mb-1"><span class="gui-label">Protocol Type:</span> <span class="gui-value">TCP/UDP/SCTP</span></div>
                    <div class="mb-1"><span class="gui-label">Destination Port:</span> <span class="gui-value font-mono text-blue-600">TCP 10443</span></div>
                    <div class="mb-1"><span class="gui-label">Comment:</span> <span class="gui-value text-gray-500">Internal Web App</span></div>
                </div>

                <div class="config-box">
config firewall service custom
    edit "TCP_10443_App"
        set tcp-portrange 10443
        set comment "Internal Web App"
    next
end
</div>
            </div>

            <!-- Step 5: Policy -->
            <div class="mb-8">
                <h3 class="text-lg font-bold text-gray-700 mb-2 border-l-4 border-red-500 pl-2">Step 5: å¥—ç”¨è‡³é˜²ç«ç‰†ç­–ç•¥ (Firewall Policy)</h3>
                <p class="text-sm text-gray-500 mb-2">å°‡ä¸Šè¿° Group èˆ‡ Custom Service çµåˆã€‚è·¯å¾‘ï¼š<span class="font-mono bg-gray-200 px-1">Policy & Objects > Firewall Policy</span></p>
                <div class="gui-box border-l-4 border-l-green-500">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-y-2">
                        <div><span class="gui-label">Name:</span> <span class="gui-value">Allow_App_Access</span></div>
                        <div><span class="gui-label">Incoming Iface:</span> <span class="gui-value">LAN (Port2)</span></div>
                        
                        <div><span class="gui-label">Outgoing Iface:</span> <span class="gui-value">WAN (Port1)</span></div>
                        <div><span class="gui-label">Source:</span> <span class="gui-value">all</span></div>
                        
                        <div class="bg-yellow-50 p-1 rounded -ml-1 border border-yellow-200">
                            <span class="gui-label">Destination:</span> 
                            <span class="gui-value font-bold text-red-600">Grp_Social_Media</span>
                        </div>
                        <div><span class="gui-label">Schedule:</span> <span class="gui-value">always</span></div>
                        
                        <div class="bg-blue-50 p-1 rounded -ml-1 border border-blue-200">
                            <span class="gui-label">Service:</span> 
                            <span class="gui-value">HTTPS, HTTP, <span class="font-bold text-blue-700">TCP_10443_App</span></span>
                        </div>
                        <div><span class="gui-label">Action:</span> <span class="gui-value bg-green-100 text-green-700 px-2 py-0.5 rounded text-sm font-bold">ACCEPT</span></div>
                        
                        <div class="md:col-span-2 mt-2 pt-2 border-t border-gray-200 text-xs text-gray-500">
                            * NAT å·²å•Ÿç”¨ (é è¨­)
                        </div>
                    </div>
                </div>

                <div class="config-box">
config firewall policy
    edit 1
        set name "Allow_App_Access"
        set srcintf "port2"
        set dstintf "port1"
        set srcaddr "all"
        set dstaddr "Grp_Social_Media"
        set service "HTTPS" "HTTP" "TCP_10443_App"
        set schedule "always"
        set action accept
        set nat enable
    next
end
</div>
            </div>
        </div>

        <!-- å››ã€æ¶æ§‹è¦–è¦ºåŒ– -->
        <div class="section-card">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-green-100 text-green-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded">Visuals</span>
                å››ã€æ¶æ§‹è¦–è¦ºåŒ–
            </h2>
            <p class="mb-4 text-gray-600">ä½¿ç”¨ Mermaid èªæ³•å±•ç¤ºç‰©ä»¶çµ„æˆèˆ‡å°åŒ…æ±ºç­–æµç¨‹ã€‚</p>

            <div class="space-y-8">
                <!-- åœ–è¡¨ 1: ç‰©ä»¶èˆ‡ç­–ç•¥é—œä¿‚ -->
                <div>
                    <h3 class="text-lg font-bold text-gray-700 mb-2">1. ç‰©ä»¶èˆ‡ç­–ç•¥çš„é—œä¿‚ (Object Composition)</h3>
                    <p class="text-sm text-gray-500 mb-2">å±•ç¤º Address/Service ç‰©ä»¶å¦‚ä½•è¢« Policy å¼•ç”¨ã€‚</p>
                    <div class="mermaid-container">
                        <div class="mermaid">
graph TD
    classDef obj fill:#f3f4f6,stroke:#4b5563,stroke-width:1px;
    classDef policy fill:#fee2e2,stroke:#b91c1c,stroke-width:2px;

    subgraph Address_Objects [ä½å€ç‰©ä»¶åº«]
        direction TB
        A1[HR_PC: 192.168.1.10]:::obj
        A2[IT_Admin: 10.0.0.5]:::obj
        A3[Server_Farm: 172.16.1.0/24]:::obj
    end
    
    subgraph Service_Objects [æœå‹™ç‰©ä»¶åº«]
        direction TB
        S1[Web: TCP 80/443]:::obj
        S2[SSH: TCP 22]:::obj
    end

    subgraph Firewall_Policy [é˜²ç«ç‰†ç­–ç•¥è¦å‰‡]
        direction TB
        P1[Policy 1: IT to Server<br/>Action: Allow]:::policy
        P2[Policy 2: HR to Web<br/>Action: Allow]:::policy
    end

    A2 --> P1
    A3 --> P1
    S2 --> P1
    
    A1 --> P2
    S1 --> P2
                        </div>
                    </div>
                </div>

                <!-- åœ–è¡¨ 2: åŒ¹é…æµç¨‹ -->
                <div>
                    <h3 class="text-lg font-bold text-gray-700 mb-2">2. å°åŒ…åŒ¹é…æµç¨‹ (Matching Logic)</h3>
                    <p class="text-sm text-gray-500 mb-2">ç”±ä¸Šè€Œä¸‹çš„æ±ºç­–éç¨‹ã€‚</p>
                    <div class="mermaid-container">
                        <div class="mermaid">
sequenceDiagram
    participant Packet as å°åŒ… (Packet)
    participant Policy1 as Policy 1 (Specific)
    participant Policy2 as Policy 2 (General)
    participant Implicit as Implicit Deny

    Packet->>Policy1: æª¢æŸ¥æ¢ä»¶ (Src, Dst, Svc)
    alt ç¬¦åˆ Policy 1 ?
        Policy1-->>Packet: ç¬¦åˆ! åŸ·è¡Œå‹•ä½œ (Allow/Deny)
        Note right of Policy1: åœæ­¢æœå°‹ (Stop)
    else ä¸ç¬¦åˆ
        Packet->>Policy2: ç¹¼çºŒæª¢æŸ¥ä¸‹ä¸€æ¢
        alt ç¬¦åˆ Policy 2 ?
            Policy2-->>Packet: ç¬¦åˆ! åŸ·è¡Œå‹•ä½œ
        else ä¸ç¬¦åˆ
            Packet->>Implicit: è½å…¥æœ€å¾Œä¸€æ¢
            Implicit-->>Packet: DROP (ä¸Ÿæ£„)
        end
    end
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- äº”ã€å¯¦å‹™æ‡‰ç”¨å ´æ™¯ -->
        <div class="section-card">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-purple-100 text-purple-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded">Use Case</span>
                äº”ã€å¯¦å‹™æ‡‰ç”¨å ´æ™¯
            </h2>

            <h3 class="text-xl font-bold mb-3">å ´æ™¯ï¼šä¼æ¥­åˆ†å±¤ä¸Šç¶²æ¬Šé™ç®¡ç†</h3>
            
            <div class="mb-4">
                <p class="text-gray-700 mb-2"><strong>æƒ…å¢ƒæè¿°ï¼š</strong> è¡ŒéŠ·éƒ¨éœ€é–‹æ”¾ Facebook/YouTube é€²è¡Œæ¨å»£ï¼Œä½†ä¸€èˆ¬å“¡å·¥åƒ…èƒ½ç€è¦½æ™®é€šç¶²é ï¼Œä¸¦åš´æ ¼ç¦æ­¢é«˜é¢¨éšªç¶²ç«™ã€‚</p>
                <p class="text-gray-700"><strong>è§£æ±ºæ–¹æ¡ˆ (æ³¨æ„é †åº)ï¼š</strong></p>
                <div class="space-y-2 mt-2">
                    <div class="border-l-4 border-yellow-400 pl-4 py-2 bg-yellow-50 rounded-r">
                        <span class="text-xs font-bold text-gray-500 uppercase block">Rule 1 (ç‰¹æ¬Š)</span>
                        <p class="text-gray-800 text-sm"><strong>ä¾†æºï¼š</strong>è¡ŒéŠ·éƒ¨ | <strong>æœå‹™ï¼š</strong>HTTP/S | <strong>å‹•ä½œï¼š</strong><span class="text-green-600 font-bold">ALLOW</span> (Web Filter: æ”¾è¡Œ Social)</p>
                    </div>
                    <div class="border-l-4 border-gray-400 pl-4 py-2 bg-gray-50 rounded-r">
                        <span class="text-xs font-bold text-gray-500 uppercase block">Rule 2 (ä¸€èˆ¬)</span>
                        <p class="text-gray-800 text-sm"><strong>ä¾†æºï¼š</strong>å…¨é«”å“¡å·¥ | <strong>æœå‹™ï¼š</strong>HTTP/S | <strong>å‹•ä½œï¼š</strong><span class="text-green-600 font-bold">ALLOW</span> (Web Filter: é˜»æ“‹ Social)</p>
                    </div>
                    <div class="border-t border-dashed border-gray-300 pt-2 text-center text-xs text-red-500 font-bold uppercase">
                        Implicit Deny (Drop All Others)
                    </div>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-4 mt-4">
                <div class="border p-4 rounded bg-green-50">
                    <h4 class="font-bold text-green-800 mb-2">ğŸ‘ å„ªé» (Pros)</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700">
                        <li><strong>ç²¾ç¢ºæ§åˆ¶ï¼š</strong> æ»¿è¶³æ¥­å‹™éœ€æ±‚åŒæ™‚ä¿éšœé »å¯¬ï¼Œé¿å…éç›¸é—œäººå“¡æ¿«ç”¨ã€‚</li>
                        <li><strong>å®‰å…¨æ€§ï¼š</strong> é è¨­é˜»æ“‹ (Default Deny) åŸå‰‡ç¢ºä¿æœªè¢«å…è¨±çš„æµé‡ç„¡æ³•é€šéã€‚</li>
                    </ul>
                </div>
                <div class="border p-4 rounded bg-red-50">
                    <h4 class="font-bold text-red-800 mb-2">ğŸ‘ å¸¸è¦‹éŒ¯èª¤ (Risk)</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700">
                        <li><strong>é †åºéŒ¯èª¤ï¼š</strong> è‹¥å°‡ã€Œä¸€èˆ¬è¦å‰‡ã€æ”¾åœ¨ã€Œç‰¹æ¬Šè¦å‰‡ã€ä¸Šé¢ï¼Œè¡ŒéŠ·éƒ¨æœƒå…ˆåŒ¹é…åˆ°ä¸€èˆ¬è¦å‰‡ï¼Œå°è‡´ç„¡æ³•ä½¿ç”¨ç¤¾ç¾¤åª’é«” (å› ç‚ºä¸€èˆ¬è¦å‰‡æ“‹æ‰äº†)ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- å…­ã€éš¨å ‚æ¸¬é©— -->
        <div class="section-card">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                <span class="bg-yellow-100 text-yellow-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded">Quiz</span>
                å…­ã€éš¨å ‚æ¸¬é©—
            </h2>
            <p class="mb-6 text-gray-600">è«‹é»æ“Šæ‚¨èªç‚ºæ­£ç¢ºçš„é¸é …ï¼Œç³»çµ±å°‡æœƒé¡¯ç¤ºè§£æã€‚</p>

            <div class="space-y-6" id="quiz-container">
                <!-- é¡Œç›®å°‡ç”± JS ç”Ÿæˆ -->
            </div>
        </div>

    </main>

    <footer class="footer-signature">
        Planning & Design by Timmy(timmyc@hauman.com.tw) | è±ªå‹‰ç§‘æŠ€ Hauman Technologies Corporation | Ver 1.0
    </footer>

    <!-- ä½¿ç”¨ module type è¼‰å…¥ mermaid -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'neutral', 
            securityLevel: 'loose',
            themeVariables: {
                fontSize: '16px',
                fontFamily: '"Noto Sans TC", sans-serif'
            },
            flowchart: {
                htmlLabels: true,
                useMaxWidth: false
            }
        });
    </script>

    <script>
        // æ¸¬é©—è³‡æ–™
        const quizData = [
            {
                question: "1. é—œæ–¼ FortiGate é˜²ç«ç‰†ç­–ç•¥çš„åŒ¹é…é‚è¼¯ (Matching Logic)ï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ",
                options: [
                    "A. ç³»çµ±æœƒæ¯”å°æ‰€æœ‰è¦å‰‡ï¼Œä¸¦é¸æ“‡æœ€åš´æ ¼çš„ä¸€æ¢åŸ·è¡Œ",
                    "B. Top-Down First Matchï¼šç”±ä¸Šè€Œä¸‹æ¯”å°ï¼Œä¸€æ—¦ç¬¦åˆå³åŸ·è¡Œå‹•ä½œä¸¦åœæ­¢æœå°‹",
                    "C. ç”±ä¸‹è€Œä¸Šæ¯”å° (Bottom-Up)ï¼Œæœ€å¾Œä¸€æ¢è¦å‰‡å„ªå…ˆæ¬Šæœ€é«˜",
                    "D. ç³»çµ±éš¨æ©Ÿæ¯”å°ï¼Œä¸¦ä¾æ“š AI åˆ¤æ–·æœ€ä½³è·¯å¾‘"
                ],
                correct: 1,
                explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ Bã€‚é˜²ç«ç‰†æ¡å– 'First Match' åŸå‰‡ï¼Œç”±ä¸Šè€Œä¸‹æƒæã€‚é€™æ„å‘³è‘—ç‰¹å®šçš„å°ç¯„åœè¦å‰‡ (Specific Rules) å¿…é ˆæ”¾åœ¨å¯¬é¬†çš„å¤§ç¯„åœè¦å‰‡ (General Rules) ä¹‹ä¸Šã€‚"
            },
            {
                question: "2. è‹¥å°åŒ…ä¸ç¬¦åˆ Policy åˆ—è¡¨ä¸­çš„ä»»ä½•è¦å‰‡ï¼Œæœ€çµ‚æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ",
                options: [
                    "A. å°åŒ…æœƒè¢«æ”¾è¡Œ (Default Allow)",
                    "B. é˜²ç«ç‰†æœƒæš«å­˜å°åŒ…ä¸¦è©¢å•ç®¡ç†å“¡",
                    "C. è§¸ç™¼ Implicit Deny (éš±å¼æ‹’çµ•)ï¼Œå°åŒ…è¢«ä¸Ÿæ£„",
                    "D. å°åŒ…æœƒè¢«é€€å›ä¾†æºç«¯ä¸¦é‡è©¦"
                ],
                correct: 2,
                explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ Cã€‚FortiGate ç­–ç•¥åˆ—è¡¨çš„æœ€åº•éƒ¨æœ‰ä¸€æ¢é è¨­ä¸å¯è¦‹çš„ 'Implicit Deny'ï¼Œä»»ä½•æœªè¢«æ˜ç¢ºæ”¾è¡Œçš„æµé‡éƒ½æœƒè¢«å®ƒé˜»æ“‹ã€‚"
            },
            {
                question: "3. ç‚ºä»€éº¼å»ºè­°åœ¨ Policy ä¸­ä½¿ç”¨ Address Object è€Œéç›´æ¥è¼¸å…¥ IPï¼Ÿ",
                options: [
                    "A. ç‚ºäº†è®“é˜²ç«ç‰†æ•ˆèƒ½æ›´å¥½",
                    "B. ç®¡ç†æ•ˆç‡ï¼šç•¶ IP è®Šæ›´æ™‚åªéœ€ä¿®æ”¹ Objectï¼Œæ‰€æœ‰å¼•ç”¨çš„ Policy è‡ªå‹•æ›´æ–°",
                    "C. FortiGate å¼·åˆ¶è¦å®šä¸èƒ½ç›´æ¥è¼¸å…¥ IP",
                    "D. ç‚ºäº†å¢åŠ é§­å®¢å…¥ä¾µçš„é›£åº¦"
                ],
                correct: 1,
                explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ Bã€‚ç‰©ä»¶åŒ–ç®¡ç†çš„æ ¸å¿ƒåƒ¹å€¼åœ¨æ–¼å¯ç¶­è­·æ€§ (Maintainability)ã€‚ä¿®æ”¹ä¸€æ¬¡ Objectï¼Œæ‰€æœ‰é—œè¯ç­–ç•¥åŒæ­¥ç”Ÿæ•ˆã€‚"
            },
            {
                question: "4. åœ¨è¨­å®š Firewall Policy æ™‚ï¼Œå“ªå€‹åƒæ•¸å®šç¾©äº†ã€Œæ‡‰ç”¨å±¤æœå‹™ã€(å¦‚ TCP/80, UDP/53)ï¼Ÿ",
                options: [
                    "A. Source Address",
                    "B. Destination Interface",
                    "C. Service",
                    "D. Schedule"
                ],
                correct: 2,
                explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ Cã€‚Service Object ç”¨æ–¼å®šç¾© L4 å‚³è¼¸å”å®š (TCP/UDP/ICMP/SCTP) èˆ‡å°æ‡‰çš„åŸ è™Ÿ (Ports)ã€‚"
            },
            {
                question: "5. è‹¥è¦å°‡ã€Œè²¡å‹™éƒ¨ã€èˆ‡ã€Œè¨ªå®¢ã€å®Œå…¨éš”é›¢ï¼Œæœ€ç°¡å–®çš„ä½œæ³•æ˜¯ï¼Ÿ",
                options: [
                    "A. å»ºç«‹ä¸€æ¢ Deny ç­–ç•¥",
                    "B. å»ºç«‹ä¸€æ¢ Allow ç­–ç•¥",
                    "C. åªè¦ä¸å»ºç«‹ä»»ä½•å…è¨±å…©è€…äº’é€šçš„ç­–ç•¥ï¼ŒImplicit Deny è‡ªç„¶æœƒé˜»æ“‹",
                    "D. æ‹”æ‰ç¶²è·¯ç·š"
                ],
                correct: 2,
                explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ Cã€‚åŸºæ–¼ 'Default Deny' åŸå‰‡ï¼Œè·¨ä»‹é¢/è·¨å€åŸŸçš„æµé‡è‹¥ç„¡ Policy æ˜ç¢ºæ”¾è¡Œï¼Œé è¨­çš†ç‚ºé˜»æ“‹ã€‚"
            }
        ];

        // æ¸²æŸ“æ¸¬é©—
        const quizContainer = document.getElementById('quiz-container');

        quizData.forEach((item, index) => {
            const questionBox = document.createElement('div');
            questionBox.className = 'bg-white border rounded-lg p-6 shadow-sm';
            
            let optionsHtml = '';
            item.options.forEach((opt, optIndex) => {
                optionsHtml += `
                    <div class="quiz-option p-3 rounded border mb-2" onclick="checkAnswer(${index}, ${optIndex}, this)">
                        ${opt}
                    </div>
                `;
            });

            questionBox.innerHTML = `
                <h3 class="font-bold text-lg mb-4 text-gray-800">${item.question}</h3>
                <div class="space-y-2 mb-4">
                    ${optionsHtml}
                </div>
                <div id="result-${index}" class="hidden mt-4 p-4 rounded bg-gray-50 border-l-4">
                    <p class="font-bold result-title"></p>
                    <p class="text-sm text-gray-600 mt-1">${item.explanation}</p>
                </div>
            `;
            quizContainer.appendChild(questionBox);
        });

        function checkAnswer(qIndex, optIndex, element) {
            const data = quizData[qIndex];
            const resultBox = document.getElementById(`result-${qIndex}`);
            const resultTitle = resultBox.querySelector('.result-title');
            const allOptions = element.parentElement.querySelectorAll('.quiz-option');

            // é–å®šè©²é¡Œä¸å¯å†é¸
            if (element.parentElement.dataset.answered) return;
            element.parentElement.dataset.answered = "true";

            // æ¸…é™¤ä¸¦é‡è¨­æ¨£å¼
            allOptions.forEach(opt => opt.classList.remove('bg-green-100', 'bg-red-100', 'border-green-500', 'border-red-500'));

            if (optIndex === data.correct) {
                // ç­”å°
                element.classList.add('bg-green-100', 'border-green-500');
                resultBox.classList.remove('hidden', 'border-red-500');
                resultBox.classList.add('border-green-500', 'bg-green-50');
                resultTitle.textContent = "âœ… ç­”å°äº†ï¼";
                resultTitle.classList.add('text-green-700');
            } else {
                // ç­”éŒ¯
                element.classList.add('bg-red-100', 'border-red-500');
                // æ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
                allOptions[data.correct].classList.add('bg-green-100', 'border-green-500');
                
                resultBox.classList.remove('hidden', 'border-green-500');
                resultBox.classList.add('border-red-500', 'bg-red-50');
                resultTitle.textContent = "âŒ ç­”éŒ¯äº†ï¼Œè«‹çœ‹è§£æï¼š";
                resultTitle.classList.add('text-red-700');
            }
        }
    </script>
</body>
</html>